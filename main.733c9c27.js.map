{"version":3,"sources":["scripts/main.js"],"names":["body","document","querySelector","head","listTd","querySelectorAll","sortBy","button","createElement","form","classList","add","innerText","textElement","flag","people","selectObj","strings","numbers","city","objectValid","name","position","office","age","salary","pushNotification","posTop","posRight","title","description","type","wrapper","elementTitle","elementMessage","style","top","right","innerHTML","append","setAttribute","setTimeout","remove","getNumber","string","parseFloat","replace","CreateObjectsByContent","splice","length","i","children","namePerson","push","setClick","list","forEach","element","addEventListener","e","target","createTr","text","value","td","parentElement","setDobleClick","input","lostFocus","appendChild","setKeyboard","key","functionFoSort","sortKey","a","b","firstElement","secondElement","includes","localeCompare","el","sort","toLowerCase","person","insertAdjacentHTML","JSON","stringify","toFixed","createLabel","index","label","select","q","option","required","preventDefault","toLocaleString"],"mappings":"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","file":"main.733c9c27.js","sourceRoot":"../src","sourcesContent":["'use strict';\n\nconst body = document.querySelector('tbody');\nconst head = document.querySelector('thead');\nconst listTd = document.querySelectorAll('td');\nconst sortBy = document.querySelectorAll('th');\nconst button = document.createElement('button');\nconst form = document.createElement('form');\n\nform.classList.add('new-employee-form');\nbutton.innerText = 'Save to table';\n\nlet textElement = '';\nlet flag = '';\nconst people = [];\nlet selectObj = {};\nconst strings = ['name', 'position', 'office'];\nconst numbers = ['age', 'salary'];\nconst city = [\n  'Tokyo',\n  'Singapore',\n  'London',\n  'New York',\n  'Edinburgh',\n  'San Francisco',\n];\nconst objectValid = {\n  name: '',\n  position: '',\n  office: city[0],\n  age: '',\n  salary: '',\n};\n\nconst pushNotification = (posTop, posRight, title, description, type) => {\n  const wrapper = document.createElement('div');\n  const elementTitle = document.createElement('h2');\n  const elementMessage = document.createElement('p');\n\n  wrapper.style.top = `${posTop}px`;\n  wrapper.style.right = `${posRight}px`;\n  wrapper.classList = 'notification ' + type;\n\n  elementTitle.classList = 'title';\n\n  elementTitle.innerHTML = title;\n  elementMessage.innerHTML = description;\n\n  wrapper.append(elementTitle);\n  wrapper.append(elementMessage);\n\n  wrapper.setAttribute('data-qa', 'notification');\n\n  setTimeout(() => {\n    document.querySelector('body').append(wrapper);\n  }, 500);\n\n  setTimeout(() => {\n    wrapper.remove();\n  }, 4000);\n};\n\nconst getNumber = (string) => {\n  return parseFloat(string.replace('$', '').replace(',', '.'));\n};\n\nconst CreateObjectsByContent = () => {\n  people.splice(0, people.length);\n\n  for (let i = 0; i < body.children.length; i++) {\n    const [namePerson, position, office, age, salary] = body\n      .children[i].children;\n\n    people.push({\n      name: namePerson.innerText,\n      position: position.innerText,\n      office: office.innerText,\n      age: age.innerText,\n      salary: getNumber(salary.innerText),\n    });\n  }\n};\n\nconst setClick = (list) => {\n  list.forEach(element => {\n    element.addEventListener('click', (e) => {\n      if (!textElement) {\n        textElement = e.target.innerText;\n      }\n\n      if (document.querySelector('.active')) {\n        document.querySelector('.active').classList.remove('active');\n      }\n\n      element.classList.add('active');\n\n      const [namePerson, position, office, age, salary] = element.children;\n\n      selectObj = {\n        name: namePerson.innerText,\n        position: position.innerText,\n        office: office.innerText,\n        age: age.innerText,\n        salary: getNumber(salary.innerText),\n      };\n    });\n  });\n};\n\nconst createTr = () => {\n  const text = document.querySelector('.cell-input').value;\n  const td = document.querySelector('.cell-input').parentElement;\n\n  document.querySelector('.cell-input').parentElement.innerHTML = '';\n  td.innerText = !text ? textElement : text;\n  CreateObjectsByContent();\n};\n\nconst setDobleClick = (list) => {\n  for (let i = 0; i < list.length; i++) {\n    list[i].addEventListener('dblclick', (e) => {\n      const input = document.createElement('input');\n\n      lostFocus(input);\n\n      if (document.querySelector('.cell-input')) {\n        createTr();\n      }\n\n      input.value = e.target.innerText;\n      input.classList.add('cell-input');\n      e.target.innerHTML = '';\n      e.target.appendChild(input);\n    });\n  }\n};\n\nconst setKeyboard = (list) => {\n  for (let i = 0; i < list.length; i++) {\n    list[i].addEventListener('keypress', (e) => {\n      if (e.key === 'Enter' && e.target.value !== '') {\n        createTr();\n      } else if (e.key === 'Enter') {\n        const td = document.querySelector('.cell-input').parentElement;\n\n        document.querySelector('.cell-input').parentElement.innerHTML = '';\n        td.innerText = textElement;\n        textElement = '';\n      }\n    });\n  }\n};\n\nconst lostFocus = (element) => {\n  element.addEventListener('blur', (e) => {\n    createTr();\n  });\n};\n\nconst functionFoSort = (sortKey) => {\n  return (a, b) => {\n    const firstElement = a[sortKey];\n    const secondElement = b[sortKey];\n\n    if (flag === 'ASC') {\n      if (strings.includes(sortKey)) {\n        return firstElement.localeCompare(secondElement);\n      }\n\n      if (numbers.includes(sortKey)) {\n        return firstElement - secondElement;\n      }\n    } else {\n      if (strings.includes(sortKey)) {\n        return secondElement.localeCompare(firstElement);\n      }\n\n      if (numbers.includes(sortKey)) {\n        return secondElement - firstElement;\n      }\n    };\n  };\n};\n\nsortBy.forEach(el => {\n  el.addEventListener('click', (e) => {\n    body.innerHTML = '';\n\n    if (!flag || flag === 'DESC') {\n      flag = 'ASC';\n    } else if (flag === 'ASC') {\n      flag = 'DESC';\n    }\n    people.sort(functionFoSort(e.target.innerText.toLowerCase()));\n\n    people.forEach(person => {\n      body.insertAdjacentHTML('beforeend',\n        `<tr\n          ${JSON.stringify(person) === JSON.stringify(selectObj)\n    ? 'class=\"active\"'\n    : ''}\n        >\n            <td>${person.name}</td>\n            <td>${person.position}</td>\n            <td>${person.office}</td>\n            <td>${person.age}</td>\n            <td>$${person.salary.toFixed(3).replace('.', ',')}</td>\n        </tr>`);\n    });\n\n    setClick(body.querySelectorAll('tr'));\n    setDobleClick(document.querySelectorAll('td'));\n    setKeyboard(document.querySelectorAll('td'));\n  });\n});\n\nsetClick(body.querySelectorAll('tr'));\n\nconst createLabel = (index) => {\n  const input = document.createElement('input');\n  const label = document.createElement('label');\n  const select = document.createElement('select');\n  const text = head.querySelector('tr').children[index].innerText.toLowerCase();\n\n  for (let q = 0; q < city.length; q++) {\n    const option = document.createElement('option');\n\n    option.innerText = city[q];\n    select.appendChild(option);\n  }\n\n  index > 2 && index <= 4 ? input.type = 'number' : input.type = 'text';\n\n  input.required = true;\n\n  input.setAttribute('data-qa', text);\n  select.setAttribute('data-qa', text);\n\n  input.addEventListener('change', (e) => {\n    objectValid[text] = e.target.value;\n  });\n\n  select.addEventListener('change', (e) => {\n    objectValid[text] = e.target.value;\n  });\n\n  index === 2 ? label.appendChild(select) : label.appendChild(input);\n\n  label.insertAdjacentHTML(\n    'afterbegin',\n    `${head.querySelector('tr').children[index].innerText}:`);\n\n  return label;\n};\n\nfor (let i = 0; i < head.querySelector('tr').children.length; i++) {\n  form.appendChild(createLabel(i));\n}\n\nbutton.addEventListener('click', (e) => {\n  e.preventDefault();\n\n  if (objectValid.name.length < 4) {\n    pushNotification(10, 10, 'Error',\n      'Name could be more than 4 latters', 'error');\n\n    return;\n  }\n\n  if (!objectValid.position) {\n    pushNotification(10, 10, 'Error',\n      'Position could not be empty', 'error');\n\n    return;\n  }\n\n  if (+objectValid.age < 18 || +objectValid.age > 90 || !objectValid.age) {\n    pushNotification(10, 10, 'Error',\n      'Age could not less thab 18 or more than 90', 'error');\n\n    return;\n  }\n\n  if (!objectValid.salary) {\n    pushNotification(10, 10, 'Error',\n      'Salary could not empty', 'error');\n\n    return;\n  }\n\n  body.insertAdjacentHTML('beforeend',\n    `<tr>\n            <td>${objectValid.name}</td>\n            <td>${objectValid.position}</td>\n            <td>${objectValid.office}</td>\n            <td>${objectValid.age}</td>\n            <td>$${(+objectValid.salary).toLocaleString('en')}</td>\n        </tr>`);\n  objectValid.salary = +objectValid.salary;\n  people.push(objectValid);\n  setClick(body.querySelectorAll('tr'));\n  setDobleClick(document.querySelectorAll('td'));\n  setKeyboard(document.querySelectorAll('td'));\n\n  pushNotification(10, 10, 'Success',\n    'Employeer was to add', 'success');\n});\n\nform.appendChild(button);\n\nsetDobleClick(listTd);\nsetKeyboard(listTd);\nCreateObjectsByContent();\n\ndocument.querySelector('body').append(form);\n"]}